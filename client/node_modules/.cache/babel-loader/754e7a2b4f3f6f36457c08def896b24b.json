{"ast":null,"code":"var _jsxFileName = \"D:\\\\final_2\\\\Hostel-Management\\\\client\\\\src\\\\components\\\\RemoveComplain.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport Axios from 'axios';\nimport Modal from 'react-bootstrap/Modal';\nimport Moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RemoveComplain(props) {\n  _s();\n\n  const [modalShow, setModalShow] = useState(true);\n\n  const handleDelete = () => {\n    Axios.delete(`http://localhost:3001/delete/complain/${formatDate(props.complain.DateTime)}&${props.complain.Std_reg}`).then(response => {\n      if (response.data === \"error\") {\n        alert(\"Opps!! Something wrong!! Try agin later...\");\n        setModalShow(false);\n        window.location.reload();\n      } else {\n        alert(\"Complain removed successfully...\");\n        setModalShow(false);\n        window.location.reload();\n      }\n    }).catch(e => alert(e));\n    setModalShow(false);\n    window.location.reload();\n  };\n\n  const getLess = (s, x) => {\n    if (s.length < x) return s;else return s.substring(0, x - 3) + \"...\";\n  };\n\n  const formatDate = dt => {\n    if (dt === \"0000-00-00 00:00:00\") return dt;else return Moment(dt).format('YYYY-MM-DD HH:mm:ss');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: modalShow,\n      onHide: () => {\n        setModalShow(false);\n        window.location.reload();\n      },\n      size: \"sm\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          id: \"contained-modal-title-vcenter\",\n          children: getLess(props.complain.Title, 15)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: getLess(props.complain.Description, 50)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            setModalShow(false);\n            window.location.reload();\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: handleDelete,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(RemoveComplain, \"JizwG/H4MV8cBiek9qeP26Ejexg=\");\n\n_c = RemoveComplain;\n\nvar _c;\n\n$RefreshReg$(_c, \"RemoveComplain\");","map":{"version":3,"names":["React","useState","Form","Button","Alert","Axios","Modal","Moment","RemoveComplain","props","modalShow","setModalShow","handleDelete","delete","formatDate","complain","DateTime","Std_reg","then","response","data","alert","window","location","reload","catch","e","getLess","s","x","length","substring","dt","format","Title","Description"],"sources":["D:/final_2/Hostel-Management/client/src/components/RemoveComplain.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { Form, Button, Alert } from 'react-bootstrap'\r\nimport Axios from 'axios';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Moment from 'moment';\r\n\r\nexport default function RemoveComplain(props) {\r\n    const [modalShow, setModalShow] = useState(true);\r\n\r\n    const handleDelete = () => {\r\n\r\n        Axios.delete(`http://localhost:3001/delete/complain/${formatDate(props.complain.DateTime)}&${props.complain.Std_reg}`).then((response) => {\r\n            if(response.data === \"error\"){\r\n                alert(\"Opps!! Something wrong!! Try agin later...\");\r\n                setModalShow(false); window.location.reload();\r\n            } else {\r\n                alert(\"Complain removed successfully...\");\r\n                setModalShow(false); window.location.reload();\r\n            }\r\n        }).catch((e) => alert(e));\r\n        setModalShow(false); window.location.reload();\r\n    }\r\n    const getLess = (s, x)=>{\r\n        if(s.length<x) return s;\r\n        else return s.substring(0,x-3)+\"...\";\r\n    }\r\n    const formatDate = (dt) => {\r\n        if(dt === \"0000-00-00 00:00:00\") return dt;\r\n        else return(Moment(dt).format('YYYY-MM-DD HH:mm:ss'));\r\n    }\r\n    return (\r\n        <>\r\n\r\n        <Modal\r\n            show={modalShow}\r\n            onHide={()=>{ setModalShow(false); window.location.reload();} }\r\n            size=\"sm\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                    {getLess(props.complain.Title, 15)}\r\n                </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n\r\n                {getLess(props.complain.Description, 50)}\r\n\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button onClick={()=>{ setModalShow(false); window.location.reload();} }>Cancel</Button>\r\n                <Button variant=\"danger\" onClick={ handleDelete} >Delete</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n        \r\n        </>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}