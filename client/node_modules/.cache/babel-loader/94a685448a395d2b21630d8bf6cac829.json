{"ast":null,"code":"var _jsxFileName = \"F:\\\\Preity\\\\Hostel-Management\\\\client\\\\src\\\\components\\\\Complain.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport validator from 'validator';\nimport Axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport '../index.css';\nimport StudentSidebar from './StudentSidebar';\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { storage } from './firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Complain() {\n  _s();\n\n  const [error, setError] = useState({\n    tag: \"* field is required\",\n    description: \"* field is required\",\n    image: \"* field is required\",\n    contact: \"* field is required\",\n    total_seats: \"* field is required\"\n  });\n  const [complain, setComplain] = useState({\n    tag: 0,\n    description: \"\",\n    timestamp: \"\",\n    photo: \"\",\n    std_reg: \"2018331008\"\n  });\n  const [files, setFiles] = useState([]);\n\n  const uploadImage = () => {\n    if (files.length !== 0) {\n      const imageRef = ref(storage, `banner/${Date.now()}`);\n      uploadBytes(imageRef, files).then(snapshot => {\n        getDownloadURL(snapshot.ref).then(async url => {\n          console.log(url);\n          complain.photo = url;\n          console.log(complain.photo);\n        });\n      });\n    } else return;\n\n    console.log(\"kaj korche\");\n    const tm = Date.now();\n    console.log(tm);\n\n    if (complain.photo != null) {\n      Axios.post(\"http://localhost:3001/add/complain\", {\n        \"tag\": complain.tag,\n        \"description\": complain.description,\n        \"photo\": complain.photo,\n        \"timestamp\": tm,\n        \"std_reg\": complain.std_reg\n      }).then(() => {\n        console.log(\"look it works!!\");\n      }).catch(e => {\n        alert(e);\n        console.log(\"hoilona\");\n      });\n    } else alert(\"select imag!\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shadow p-4\",\n      style: {\n        width: \"60%\",\n        border: \"3px solid lightGray\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        marginTop: \"30px\"\n      },\n      children: [JSON.stringify(complain), /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Tag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n            onChange: event => {\n              const value = event.currentTarget.value;\n              setComplain({ ...complain,\n                tag: value\n              });\n              let msg = \"\";\n              if (value.length === 0) msg = \"* field is required\";\n              setError({ ...error,\n                tag: msg\n              });\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Select Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"11\",\n              children: \"Cleaning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"12\",\n              children: \"Seat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"13\",\n              children: \"Kitchen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: error.tag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            rows: 3,\n            placeholder: \"Details complain...\",\n            onChange: event => {\n              const value = event.target.value;\n              setComplain({ ...complain,\n                description: value\n              });\n              let msg = \"\";\n              if (value.length === 0) msg = \"* field is required\";\n              setError({ ...error,\n                description: msg\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: error.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"mb-3\",\n          type: \"file\",\n          fileName: \"complainPhoto\",\n          onChange: event => {\n            event.preventDefault();\n            setFiles(event.target.files[0]);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        onClick: uploadImage,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Complain, \"MncN5pim38kHw1IWmlwDny3DKZY=\");\n\n_c = Complain;\n\nvar _c;\n\n$RefreshReg$(_c, \"Complain\");","map":{"version":3,"names":["React","useState","useContext","Form","Button","Alert","validator","Axios","StudentSidebar","getDownloadURL","ref","uploadBytes","storage","Complain","error","setError","tag","description","image","contact","total_seats","complain","setComplain","timestamp","photo","std_reg","files","setFiles","uploadImage","length","imageRef","Date","now","then","snapshot","url","console","log","tm","post","catch","e","alert","width","border","marginLeft","marginRight","marginTop","JSON","stringify","event","value","currentTarget","msg","target","preventDefault"],"sources":["F:/Preity/Hostel-Management/client/src/components/Complain.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport validator from 'validator';\nimport Axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport '../index.css';\nimport StudentSidebar from './StudentSidebar'\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { storage } from './firebase';\n\n\nexport default function Complain() {\n\n    const [error, setError] = useState({\n        tag: \"* field is required\",\n        description: \"* field is required\",\n        image: \"* field is required\",\n        contact: \"* field is required\",\n        total_seats: \"* field is required\",\n    });\n    const [complain, setComplain] = useState({\n        tag:0,\n        description:\"\",\n        timestamp:\"\",\n        photo:\"\",\n        std_reg:\"2018331008\"\n\n    });\n    const [files, setFiles] = useState([]);\n\n\n    const uploadImage = () => {\n        if (files.length !== 0) {\n          const imageRef = ref(storage, `banner/${Date.now()}`);\n          uploadBytes(imageRef, files).then((snapshot) => {\n            getDownloadURL(snapshot.ref).then(async (url) => {\n            console.log(url);\n            complain.photo=url;\n            console.log(complain.photo);\n    \n             \n            });\n          });\n        } else return;\n\n        console.log(\"kaj korche\");\n        const tm= Date.now();\n        console.log(tm);\n    \n        \n        if(complain.photo != null) {\n            Axios.post(\"http://localhost:3001/add/complain\", {\n            \"tag\":complain.tag,\n            \"description\":complain.description,\n            \"photo\":complain.photo,\n            \"timestamp\":tm,\n            \"std_reg\":complain.std_reg,\n        }).then( ()=> {\n            console.log(\"look it works!!\");\n        }).catch((e)=>{\n            alert(e);\n            console.log(\"hoilona\");\n        });\n        }\n        else alert(\"select imag!\");\n\n\n      };\n\n\n    return(\n        <>\n        <div className=\"shadow p-4\" style={{\n            width: \"60%\",\n            border: \"3px solid lightGray\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            marginTop: \"30px\"\n        }} >\n        {JSON.stringify(complain)}\n            <Form>\n            <Form.Group className=\"mb-3\">\n            <Form.Label>Tag</Form.Label>\n            <Form.Select onChange={(event) => {\n                const value = event.currentTarget.value;\n                setComplain({ ...complain, tag: value })\n                let msg = \"\";\n                if (value.length === 0)\n                    msg = \"* field is required\";\n                setError({ ...error, tag: msg });\n                }}>\n                <option>Select Type</option>\n                <option value=\"11\" >Cleaning</option>\n                <option value=\"12\">Seat</option>\n                <option value=\"13\">Kitchen</option>\n            </Form.Select>\n            <span className=\"text-danger\">{error.tag}</span>\n            </Form.Group>\n\n\n\n            <Form.Group className=\"mb-3\" >\n                        <Form.Label>Description</Form.Label>\n                        <Form.Control as=\"textarea\" rows={3} placeholder=\"Details complain...\" onChange={(event) => {\n                            const value = event.target.value;\n                            setComplain({ ...complain, description: value });\n                            let msg = \"\";\n                            if (value.length === 0)\n                                msg = \"* field is required\";\n                            setError({ ...error, description: msg });\n                        }} />\n                        <span className=\"text-danger\">{error.description}</span>\n                    </Form.Group>\n\n                    <input className=\"mb-3\" type=\"file\" fileName=\"complainPhoto\" onChange={(event)=>{\n                        event.preventDefault();\n                        setFiles(event.target.files[0]);\n                    }}/>\n\n                    \n                \n            \n            </Form><Button variant=\"primary\" type=\"submit\" onClick={uploadImage}>\n                        Submit\n                    </Button>\n        \n        \n        </div></>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}