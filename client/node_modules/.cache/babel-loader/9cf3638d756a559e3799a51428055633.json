{"ast":null,"code":"var _jsxFileName = \"D:\\\\final\\\\Hostel-Management\\\\client\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport React from \"react\";\nimport { useState } from \"react\";\nimport Axios from 'axios';\nimport { Alert, Container } from 'react-bootstrap';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [LoginState, setLoginState] = useState({\n    email: \"\",\n    password: \"\",\n    ck: false\n  });\n  const [LoginStatus, setLoginStatus] = useState(false);\n  /*\r\n      const auth =()=> {\r\n          \r\n          Axios.get(\"http://localhost:3001/loginCred\", {\r\n              params: { table: \"login\", email:\"'\"+LoginState.email+\"'\" },\r\n              \r\n              \r\n          }).then((response)=> {\r\n              console.log(\"yeeeee loginer kaj korche\");\r\n              const len = response.data.length;\r\n              if(len==0) {\r\n                  alert(\"Invalid Email\");\r\n              }\r\n              else \r\n              {\r\n                  console.log(response.data[0]);\r\n                  const {Email,RoleID,Password} = response.data[0];\r\n                  console.log(Email);\r\n                  if(LoginState.password == Password) {\r\n                      alert(\"Login successful\");\r\n                  }\r\n                  else \r\n                  {\r\n                      alert(\"Wrong Password\");\r\n                  }\r\n              }\r\n              \r\n              \r\n          } );\r\n      }\r\n      */\n\n  const demoMethod = () => {\n    Axios.get(\"http://localhost:3001/isAuth\", {\n      \"headers\": {\n        \"x-access-token\": localStorage.getItem(\"token\")\n      }\n    }).then(response => {\n      console.log(response);\n    });\n  };\n\n  const auth = () => {\n    Axios.post(\"http://localhost:3001/authMail\", {\n      \"email\": LoginState.email\n    }).then(response => {\n      console.log(response);\n\n      if (response.data.length > 0) {\n        Axios.post(\"http://localhost:3001/auth\", {\n          \"email\": LoginState.email,\n          \"password\": LoginState.password\n        }).then(response => {\n          if (response.data.result.length > 0) {\n            setLoginStatus(true);\n            localStorage.setItem(\"token\", response.data.token); // alert(response.data.token);\n\n            alert(\"Logged in!\");\n          } else {\n            alert(\"Wrong password!\");\n            setLoginStatus(false);\n          }\n        });\n      } else {\n        setLoginStatus(false);\n        alert(\"Invalid mail address\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"my-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-4 w-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-floating my-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: \"form-control\",\n              id: \"mailId\",\n              onChange: event => {\n                const value = event.target.value;\n                setLoginState({ ...LoginState,\n                  email: value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"mailId\",\n              children: \"Email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-floating my-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              id: \"pass\",\n              onChange: event => {\n                const value = event.target.value;\n                setLoginState({ ...LoginState,\n                  password: value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"pass\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"my-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"custom-control custom-checkbox\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"custom-control-input\",\n                id: \"ckbox\",\n                onChange: event => {\n                  const value = event.target.checked;\n                  setLoginState({ ...LoginState,\n                    ck: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"custom-control-label\",\n                for: \"ckbox\",\n                children: \"Remember me\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: !LoginState.email || !LoginState.password,\n              onClick: auth,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 29\n            }, this), LoginStatus && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: demoMethod,\n              children: \"demo check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"forgot-password text-right my-4\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"http://localhost:3000/forgotpass\",\n              children: \"Forgot password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"D60KApJ2qkP5+sFTGdZd5oxtdiI=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Axios","Alert","Container","axios","Login","LoginState","setLoginState","email","password","ck","LoginStatus","setLoginStatus","demoMethod","get","localStorage","getItem","then","response","console","log","auth","post","data","length","result","setItem","token","alert","event","value","target","checked"],"sources":["D:/final/Hostel-Management/client/src/pages/Login.js"],"sourcesContent":["\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport React from \"react\";\r\nimport {useState} from \"react\";\r\nimport Axios from 'axios';\r\nimport { Alert, Container } from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nfunction Login() {\r\n    const [LoginState, setLoginState] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n        ck: false,\r\n\r\n    });\r\n    const[LoginStatus, setLoginStatus] = useState(false);\r\n    \r\n/*\r\n    const auth =()=> {\r\n        \r\n        Axios.get(\"http://localhost:3001/loginCred\", {\r\n            params: { table: \"login\", email:\"'\"+LoginState.email+\"'\" },\r\n            \r\n            \r\n        }).then((response)=> {\r\n            console.log(\"yeeeee loginer kaj korche\");\r\n            const len = response.data.length;\r\n            if(len==0) {\r\n                alert(\"Invalid Email\");\r\n            }\r\n            else \r\n            {\r\n                console.log(response.data[0]);\r\n                const {Email,RoleID,Password} = response.data[0];\r\n                console.log(Email);\r\n                if(LoginState.password == Password) {\r\n                    alert(\"Login successful\");\r\n                }\r\n                else \r\n                {\r\n                    alert(\"Wrong Password\");\r\n                }\r\n            }\r\n            \r\n            \r\n        } );\r\n    }\r\n    */\r\n   const demoMethod =()=>{\r\n        Axios.get(\"http://localhost:3001/isAuth\",{\r\n            \"headers\" : {\r\n                \"x-access-token\": localStorage.getItem(\"token\"),\r\n            },\r\n        }).then((response)=>{\r\n            console.log(response);\r\n        });\r\n   };\r\n\r\n\r\n    const auth =() => {\r\n        Axios.post(\"http://localhost:3001/authMail\", {\r\n            \"email\":LoginState.email,\r\n        }).then((response)=> {\r\n            console.log(response);\r\n            if(response.data.length > 0)\r\n            {\r\n                Axios.post(\"http://localhost:3001/auth\", {\r\n                    \"email\":LoginState.email,\r\n                    \"password\":LoginState.password\r\n                }).then((response)=> {\r\n                    if(response.data.result.length > 0)\r\n                    {\r\n                        setLoginStatus(true);\r\n                        localStorage.setItem(\"token\",response.data.token);\r\n                       // alert(response.data.token);\r\n                        alert(\"Logged in!\");\r\n                    }\r\n                    else\r\n                    {\r\n                        alert(\"Wrong password!\");\r\n                        setLoginStatus(false);\r\n                    } \r\n                });\r\n            }\r\n            else \r\n            {\r\n                setLoginStatus(false);\r\n                alert(\"Invalid mail address\");\r\n            }\r\n        });\r\n    }\r\n\r\n    return(\r\n        <Container className=\"my-5\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center align-items-center\">\r\n                    <h4>Login</h4>\r\n                    \r\n                    <div className=\"my-4 w-50\">\r\n                        <div className=\"form-floating my-3\">\r\n                            <input \r\n                                type=\"email\" \r\n                                className=\"form-control\"  \r\n                                id=\"mailId\"\r\n                                onChange={(event)=> {\r\n                                    const value = event.target.value;\r\n                                    setLoginState({...LoginState,email:value})\r\n                                } }\r\n                            />\r\n                            <label for=\"mailId\">Email address</label>\r\n                        </div>\r\n                        <div className=\"form-floating my-3\">\r\n                            <input \r\n                                type=\"password\"\r\n                                className=\"form-control\" \r\n                                id=\"pass\" \r\n                                onChange={(event)=> {\r\n                                    const value = event.target.value;\r\n                                    setLoginState({...LoginState,password:value})\r\n                                } }\r\n                            />\r\n                            <label for=\"pass\">Password</label>\r\n                        </div>\r\n                        <div className=\"my-4\">\r\n                            <div className=\"custom-control custom-checkbox\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    className=\"custom-control-input\"\r\n                                    id=\"ckbox\"\r\n                                    onChange={(event)=> {\r\n                                        const value = event.target.checked;\r\n                                        setLoginState({...LoginState,ck:value})\r\n                                    } }\r\n                                />\r\n                                <label className=\"custom-control-label\" for=\"ckbox\">\r\n                                    Remember me\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-grid\">\r\n                            <button \r\n                                type=\"submit\" \r\n                                className=\"btn btn-primary\"\r\n                                disabled= {!LoginState.email || !LoginState.password}\r\n                                onClick={auth}\r\n                            >\r\n                                Submit\r\n                            </button>\r\n                            {LoginStatus && <button onClick={demoMethod}>demo check</button>}\r\n                        </div>\r\n                        <p className=\"forgot-password text-right my-4\">\r\n                            <a href=\"http://localhost:3000/forgotpass\">Forgot password?</a>\r\n                        </p> \r\n                           \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}